"use strict";(self.webpackChunkhydra_head_protocol_docs=self.webpackChunkhydra_head_protocol_docs||[]).push([[7344],{86797:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>Ei,contentTitle:()=>Si,default:()=>pi,frontMatter:()=>Fi,metadata:()=>i,toc:()=>zi});const i=JSON.parse('{"id":"dev/architecture/index","title":"Architecture","description":"This document describes the architecture of the current implementation","source":"@site/docs/dev/architecture/index.md","sourceDirName":"dev/architecture","slug":"/dev/architecture/","permalink":"/head-protocol/unstable/docs/dev/architecture/","draft":false,"unlisted":false,"editUrl":"https://github.com/cardano-scaling/hydra/tree/master/docs/docs/dev/architecture/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"developerDocumentation","previous":{"title":"Commit funds to a Head","permalink":"/head-protocol/unstable/docs/dev/commit_to_a_Head"},"next":{"title":"Networking","permalink":"/head-protocol/unstable/docs/dev/architecture/networking"}}');var a,s,l,o,r,f,x,h,c,m,y,d,g,F,S,E,z,L,p,u,k,b,W,w,v,j,H,T,C,M,A,P,N,B,D,_,I,R,O,q,J,U,X,$,G,K,Q,V,Y,Z,ee,te,ne,ie,ae,se,le,oe,re,fe,xe,he,ce,me,ye,de,ge,Fe,Se,Ee,ze,Le,pe,ue,ke,be,We,we,ve,je,He,Te,Ce,Me,Ae,Pe,Ne,Be,De,_e,Ie,Re,Oe,qe,Je,Ue,Xe,$e,Ge,Ke,Qe,Ve,Ye,Ze,et,tt,nt,it,at,st,lt,ot,rt,ft,xt,ht,ct,mt,yt,dt,gt,Ft,St,Et,zt,Lt,pt,ut,kt,bt,Wt,wt,vt,jt,Ht,Tt,Ct,Mt,At,Pt,Nt,Bt,Dt,_t,It,Rt,Ot,qt,Jt,Ut,Xt,$t,Gt,Kt,Qt,Vt,Yt,Zt,en,tn,nn,an,sn,ln,on,rn,fn,xn,hn,cn,mn,yn,dn,gn,Fn,Sn,En,zn,Ln,pn,un,kn,bn,Wn,wn,vn,jn,Hn,Tn,Cn,Mn,An,Pn,Nn,Bn,Dn,_n,In,Rn,On,qn,Jn,Un,Xn,$n,Gn,Kn,Qn,Vn,Yn,Zn,ei,ti,ni,ii,ai,si,li,oi,ri,fi,xi,hi,ci=n(74848),mi=n(28453),yi=n(96540);function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},di.apply(null,arguments)}const gi=e=>{let{title:t,titleId:n,...i}=e;return yi.createElement("svg",di({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:1501,height:843,preserveAspectRatio:"none",style:{width:1501,height:843,background:"#fff"},viewBox:"0 0 1501 843","aria-labelledby":n},i),t?yi.createElement("title",{id:n},t):null,a||(a=yi.createElement("text",{x:668.25,y:22.995,fontFamily:"sans-serif",fontSize:14,fontWeight:"bold",textLength:151},"Hydra Components")),yi.createElement("rect",{width:927,height:571.71,x:309,y:44.297,fill:"none",rx:2.5,ry:2.5,style:{stroke:"#444",strokeWidth:1,strokeDasharray:"7,7"}}),s||(s=yi.createElement("text",{x:721,y:81.148,fill:"#444",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:103},"Hydra Node")),l||(l=yi.createElement("text",{x:733.5,y:96.061,fill:"#444",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:78},"[container]")),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Persistence.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Persistence.hs",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:219,height:115.453,x:430.5,y:115.297,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),o||(o=yi.createElement("text",{x:497.5,y:136.435,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),r||(r=yi.createElement("text",{x:487,y:154.117,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:106},"Persistence")),f||(f=yi.createElement("text",{x:511,y:169.029,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:58},"[JSON/FS]")),x||(x=yi.createElement("text",{x:538,y:184.855,fontFamily:"sans-serif",fontSize:14,textLength:4})),h||(h=yi.createElement("text",{x:440.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:55},"Persists")),c||(c=yi.createElement("text",{x:495.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:4})),m||(m=yi.createElement("text",{x:499.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:35},"state")),y||(y=yi.createElement("text",{x:534.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:4})),d||(d=yi.createElement("text",{x:538.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:13},"of")),g||(g=yi.createElement("text",{x:551.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:4})),F||(F=yi.createElement("text",{x:555.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:23},"the")),S||(S=yi.createElement("text",{x:578.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:4})),E||(E=yi.createElement("text",{x:582.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:35},"head")),z||(z=yi.createElement("text",{x:617.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:4})),L||(L=yi.createElement("text",{x:621.5,y:201.151,fontFamily:"sans-serif",fontSize:14,textLength:18},"on")),p||(p=yi.createElement("text",{x:526,y:217.448,fontFamily:"sans-serif",fontSize:14,textLength:28},"disk"))),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/HeadLogic.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/HeadLogic.hs",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:219,height:101.484,x:658.5,y:291.747,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),u||(u=yi.createElement("text",{x:725.5,y:312.885,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),k||(k=yi.createElement("text",{x:720,y:330.567,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:44},"Head")),b||(b=yi.createElement("text",{x:764,y:330.567,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),W||(W=yi.createElement("text",{x:770,y:330.567,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46},"Logic")),w||(w=yi.createElement("text",{x:766,y:347.336,fontFamily:"sans-serif",fontSize:14,textLength:4})),v||(v=yi.createElement("text",{x:668.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:65},"Maintains")),j||(j=yi.createElement("text",{x:733.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:4})),H||(H=yi.createElement("text",{x:737.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:51},"internal")),T||(T=yi.createElement("text",{x:788.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:4})),C||(C=yi.createElement("text",{x:792.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:36},"Head")),M||(M=yi.createElement("text",{x:828.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:4})),A||(A=yi.createElement("text",{x:832.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:35},"state")),P||(P=yi.createElement("text",{x:691,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:26},"and")),N||(N=yi.createElement("text",{x:717,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:4})),B||(B=yi.createElement("text",{x:721,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:73},"processes")),D||(D=yi.createElement("text",{x:794,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:4})),_||(_=yi.createElement("text",{x:798,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:47},"events"))),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/API/Server.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/API/Server.hs",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:210,height:101.484,x:1010,y:291.747,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),I||(I=yi.createElement("text",{x:1072.5,y:312.885,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),R||(R=yi.createElement("text",{x:1067.5,y:330.567,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:30},"API")),O||(O=yi.createElement("text",{x:1097.5,y:330.567,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),q||(q=yi.createElement("text",{x:1103.5,y:330.567,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:59},"Server")),J||(J=yi.createElement("text",{x:1113,y:347.336,fontFamily:"sans-serif",fontSize:14,textLength:4})),U||(U=yi.createElement("text",{x:1022,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:48},"Handle")),X||(X=yi.createElement("text",{x:1070,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:4})),$||($=yi.createElement("text",{x:1074,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:37},"client")),G||(G=yi.createElement("text",{x:1111,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:4})),K||(K=yi.createElement("text",{x:1115,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:77},"commands")),Q||(Q=yi.createElement("text",{x:1192,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:4})),V||(V=yi.createElement("text",{x:1196,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:12},"&")),Y||(Y=yi.createElement("text",{x:1020,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:52},"queries")),Z||(Z=yi.createElement("text",{x:1072,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:4})),ee||(ee=yi.createElement("text",{x:1076,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:26},"and")),te||(te=yi.createElement("text",{x:1102,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:4})),ne||(ne=yi.createElement("text",{x:1106,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:46},"serves")),ie||(ie=yi.createElement("text",{x:1152,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:4})),ae||(ae=yi.createElement("text",{x:1156,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:54},"outputs"))),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Chain.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Chain.hs",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:196,height:117.781,x:683,y:482.227,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),se||(se=yi.createElement("text",{x:738.5,y:503.365,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),le||(le=yi.createElement("text",{x:757,y:521.047,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48},"Chain")),oe||(oe=yi.createElement("text",{x:779,y:537.816,fontFamily:"sans-serif",fontSize:14,textLength:4})),re||(re=yi.createElement("text",{x:701,y:554.113,fontFamily:"sans-serif",fontSize:14,textLength:80},"Connection")),fe||(fe=yi.createElement("text",{x:781,y:554.113,fontFamily:"sans-serif",fontSize:14,textLength:4})),xe||(xe=yi.createElement("text",{x:785,y:554.113,fontFamily:"sans-serif",fontSize:14,textLength:14},"to")),he||(he=yi.createElement("text",{x:799,y:554.113,fontFamily:"sans-serif",fontSize:14,textLength:4})),ce||(ce=yi.createElement("text",{x:803,y:554.113,fontFamily:"sans-serif",fontSize:14,textLength:58},"Cardano")),me||(me=yi.createElement("text",{x:693,y:570.409,fontFamily:"sans-serif",fontSize:14,textLength:58},"Observe")),ye||(ye=yi.createElement("text",{x:751,y:570.409,fontFamily:"sans-serif",fontSize:14,textLength:4})),de||(de=yi.createElement("text",{x:755,y:570.409,fontFamily:"sans-serif",fontSize:14,textLength:20},"txs")),ge||(ge=yi.createElement("text",{x:775,y:570.409,fontFamily:"sans-serif",fontSize:14,textLength:4})),Fe||(Fe=yi.createElement("text",{x:779,y:570.409,fontFamily:"sans-serif",fontSize:14,textLength:60},"on-chain")),Se||(Se=yi.createElement("text",{x:839,y:570.409,fontFamily:"sans-serif",fontSize:14,textLength:4})),Ee||(Ee=yi.createElement("text",{x:843,y:570.409,fontFamily:"sans-serif",fontSize:14,textLength:26},"and")),ze||(ze=yi.createElement("text",{x:728,y:586.706,fontFamily:"sans-serif",fontSize:14,textLength:31},"post")),Le||(Le=yi.createElement("text",{x:759,y:586.706,fontFamily:"sans-serif",fontSize:14,textLength:4})),pe||(pe=yi.createElement("text",{x:763,y:586.706,fontFamily:"sans-serif",fontSize:14,textLength:12},"tx")),ue||(ue=yi.createElement("text",{x:775,y:586.706,fontFamily:"sans-serif",fontSize:14,textLength:4})),ke||(ke=yi.createElement("text",{x:779,y:586.706,fontFamily:"sans-serif",fontSize:14,textLength:14},"to")),be||(be=yi.createElement("text",{x:793,y:586.706,fontFamily:"sans-serif",fontSize:14,textLength:4})),We||(We=yi.createElement("text",{x:797,y:586.706,fontFamily:"sans-serif",fontSize:14,textLength:37},"chain"))),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Chain/Direct/Wallet.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Chain/Direct/Wallet.hs",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:197,height:101.484,x:324.5,y:490.377,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),we||(we=yi.createElement("text",{x:380.5,y:511.515,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),ve||(ve=yi.createElement("text",{x:395.5,y:529.197,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55},"Wallet")),je||(je=yi.createElement("text",{x:421,y:545.966,fontFamily:"sans-serif",fontSize:14,textLength:4})),He||(He=yi.createElement("text",{x:337,y:562.263,fontFamily:"sans-serif",fontSize:14,textLength:76},"Embedded")),Te||(Te=yi.createElement("text",{x:413,y:562.263,fontFamily:"sans-serif",fontSize:14,textLength:4})),Ce||(Ce=yi.createElement("text",{x:417,y:562.263,fontFamily:"sans-serif",fontSize:14,textLength:41},"Wallet")),Me||(Me=yi.createElement("text",{x:458,y:562.263,fontFamily:"sans-serif",fontSize:14,textLength:4})),Ae||(Ae=yi.createElement("text",{x:462,y:562.263,fontFamily:"sans-serif",fontSize:14,textLength:14},"to")),Pe||(Pe=yi.createElement("text",{x:476,y:562.263,fontFamily:"sans-serif",fontSize:14,textLength:4})),Ne||(Ne=yi.createElement("text",{x:480,y:562.263,fontFamily:"sans-serif",fontSize:14,textLength:29},"sign")),Be||(Be=yi.createElement("text",{x:334.5,y:578.559,fontFamily:"sans-serif",fontSize:14,textLength:85},"transactions")),De||(De=yi.createElement("text",{x:419.5,y:578.559,fontFamily:"sans-serif",fontSize:14,textLength:4})),_e||(_e=yi.createElement("text",{x:423.5,y:578.559,fontFamily:"sans-serif",fontSize:14,textLength:26},"and")),Ie||(Ie=yi.createElement("text",{x:449.5,y:578.559,fontFamily:"sans-serif",fontSize:14,textLength:4})),Re||(Re=yi.createElement("text",{x:453.5,y:578.559,fontFamily:"sans-serif",fontSize:14,textLength:24},"pay")),Oe||(Oe=yi.createElement("text",{x:477.5,y:578.559,fontFamily:"sans-serif",fontSize:14,textLength:4})),qe||(qe=yi.createElement("text",{x:481.5,y:578.559,fontFamily:"sans-serif",fontSize:14,textLength:30},"fees"))),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Network.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Network.hs",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:191,height:101.484,x:325.5,y:291.747,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),Je||(Je=yi.createElement("text",{x:378.5,y:312.885,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),Ue||(Ue=yi.createElement("text",{x:382.5,y:330.567,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:77},"Network")),Xe||(Xe=yi.createElement("text",{x:419,y:347.336,fontFamily:"sans-serif",fontSize:14,textLength:4})),$e||($e=yi.createElement("text",{x:335.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:63},"Manages")),Ge||(Ge=yi.createElement("text",{x:398.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:4})),Ke||(Ke=yi.createElement("text",{x:402.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:86},"connections")),Qe||(Qe=yi.createElement("text",{x:488.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:4})),Ve||(Ve=yi.createElement("text",{x:492.5,y:363.633,fontFamily:"sans-serif",fontSize:14,textLength:14},"to")),Ye||(Ye=yi.createElement("text",{x:401,y:379.93,fontFamily:"sans-serif",fontSize:14,textLength:40},"peers"))),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Logging.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Logging.hs",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:166,height:85.188,x:685,y:130.427,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),Ze||(Ze=yi.createElement("text",{x:725.5,y:151.565,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),et||(et=yi.createElement("text",{x:733.5,y:169.247,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:69},"Logging")),tt||(tt=yi.createElement("text",{x:766,y:186.016,fontFamily:"sans-serif",fontSize:14,textLength:4})),nt||(nt=yi.createElement("text",{x:695,y:202.313,fontFamily:"sans-serif",fontSize:14,textLength:42},"Dump")),it||(it=yi.createElement("text",{x:737,y:202.313,fontFamily:"sans-serif",fontSize:14,textLength:4})),at||(at=yi.createElement("text",{x:741,y:202.313,fontFamily:"sans-serif",fontSize:14,textLength:33},"JSON")),st||(st=yi.createElement("text",{x:774,y:202.313,fontFamily:"sans-serif",fontSize:14,textLength:4})),lt||(lt=yi.createElement("text",{x:778,y:202.313,fontFamily:"sans-serif",fontSize:14,textLength:14},"to")),ot||(ot=yi.createElement("text",{x:792,y:202.313,fontFamily:"sans-serif",fontSize:14,textLength:4})),rt||(rt=yi.createElement("text",{x:796,y:202.313,fontFamily:"sans-serif",fontSize:14,textLength:45},"stdout"))),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Logging/Monitoring.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Logging/Monitoring.hs",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:168,height:101.484,x:886,y:122.277,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),ft||(ft=yi.createElement("text",{x:927.5,y:143.416,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),xt||(xt=yi.createElement("text",{x:922.5,y:161.097,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:95},"Monitoring")),ht||(ht=yi.createElement("text",{x:968,y:177.866,fontFamily:"sans-serif",fontSize:14,textLength:4})),ct||(ct=yi.createElement("text",{x:896,y:194.163,fontFamily:"sans-serif",fontSize:14,textLength:59},"Exposes")),mt||(mt=yi.createElement("text",{x:955,y:194.163,fontFamily:"sans-serif",fontSize:14,textLength:4})),yt||(yt=yi.createElement("text",{x:959,y:194.163,fontFamily:"sans-serif",fontSize:14,textLength:85},"Prometheus")),dt||(dt=yi.createElement("text",{x:944.5,y:210.459,fontFamily:"sans-serif",fontSize:14,textLength:51},"metrics"))),yi.createElement("rect",{width:178,height:85.188,x:914,y:498.527,fill:"#23AA12",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),gt||(gt=yi.createElement("text",{x:927.5,y:519.665,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:151},"\xabexternal\xbb\xabcomponent\xbb")),Ft||(Ft=yi.createElement("text",{x:932.5,y:537.347,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73},"Cardano")),St||(St=yi.createElement("text",{x:1005.5,y:537.347,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),Et||(Et=yi.createElement("text",{x:1011.5,y:537.347,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:62},"Ledger")),zt||(zt=yi.createElement("text",{x:1001,y:554.116,fontFamily:"sans-serif",fontSize:14,textLength:4})),Lt||(Lt=yi.createElement("text",{x:924,y:570.413,fontFamily:"sans-serif",fontSize:14,textLength:65},"Maintains")),pt||(pt=yi.createElement("text",{x:989,y:570.413,fontFamily:"sans-serif",fontSize:14,textLength:4})),ut||(ut=yi.createElement("text",{x:993,y:570.413,fontFamily:"sans-serif",fontSize:14,textLength:36},"Layer")),kt||(kt=yi.createElement("text",{x:1029,y:570.413,fontFamily:"sans-serif",fontSize:14,textLength:4})),bt||(bt=yi.createElement("text",{x:1033,y:570.413,fontFamily:"sans-serif",fontSize:14,textLength:9},"2")),Wt||(Wt=yi.createElement("text",{x:1042,y:570.413,fontFamily:"sans-serif",fontSize:14,textLength:4})),wt||(wt=yi.createElement("text",{x:1046,y:570.413,fontFamily:"sans-serif",fontSize:14,textLength:36},"State")),yi.createElement("rect",{width:184,height:66.563,x:7,y:309.207,fill:"#438DD5",rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5}}),vt||(vt=yi.createElement("text",{x:62,y:330.346,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74},"\xabcontainer\xbb")),jt||(jt=yi.createElement("text",{x:17,y:348.027,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51},"Hydra")),Ht||(Ht=yi.createElement("text",{x:68,y:348.027,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),Tt||(Tt=yi.createElement("text",{x:74,y:348.027,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46},"Node")),Ct||(Ct=yi.createElement("text",{x:120,y:348.027,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),Mt||(Mt=yi.createElement("text",{x:126,y:348.027,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55},"(peer)")),At||(At=yi.createElement("text",{x:31.5,y:362.939,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38},"[Local")),Pt||(Pt=yi.createElement("text",{x:69.5,y:362.939,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4})),Nt||(Nt=yi.createElement("text",{x:73.5,y:362.939,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:93},"cardano-node]")),yi.createElement("rect",{width:150,height:66.563,x:466,y:728.917,fill:"#438DD5",rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5}}),Bt||(Bt=yi.createElement("text",{x:504,y:750.056,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74},"\xabcontainer\xbb")),Dt||(Dt=yi.createElement("text",{x:478.5,y:767.737,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73},"Cardano")),_t||(_t=yi.createElement("text",{x:551.5,y:767.737,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),It||(It=yi.createElement("text",{x:557.5,y:767.737,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46},"Node")),Rt||(Rt=yi.createElement("text",{x:476,y:782.649,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38},"[Local")),Ot||(Ot=yi.createElement("text",{x:514,y:782.649,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4})),qt||(qt=yi.createElement("text",{x:518,y:782.649,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:88},"cadano-node]")),yi.createElement("rect",{width:206,height:66.563,x:62,y:507.837,fill:"#438DD5",rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5}}),Jt||(Jt=yi.createElement("text",{x:128,y:528.976,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74},"\xabcontainer\xbb")),Ut||(Ut=yi.createElement("text",{x:72,y:546.657,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73},"Cardano")),Xt||(Xt=yi.createElement("text",{x:145,y:546.657,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),$t||($t=yi.createElement("text",{x:151,y:546.657,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46},"Node")),Gt||(Gt=yi.createElement("text",{x:197,y:546.657,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),Kt||(Kt=yi.createElement("text",{x:203,y:546.657,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55},"(peer)")),Qt||(Qt=yi.createElement("text",{x:97.5,y:561.569,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38},"[Local")),Vt||(Vt=yi.createElement("text",{x:135.5,y:561.569,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4})),Yt||(Yt=yi.createElement("text",{x:139.5,y:561.569,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:93},"cardano-node]")),yi.createElement("rect",{width:127,height:52.594,x:1368.5,y:316.187,fill:"#438DD5",rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5}}),Zt||(Zt=yi.createElement("text",{x:1395,y:337.325,fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74},"\xabcontainer\xbb")),en||(en=yi.createElement("text",{x:1378.5,y:355.007,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51},"Hydra")),tn||(tn=yi.createElement("text",{x:1429.5,y:355.007,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),nn||(nn=yi.createElement("text",{x:1435.5,y:355.007,fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:50},"Client")),yi.createElement("a",{xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/tree/master/hydra-plutus",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/tree/master/hydra-plutus",xlinkType:"simple",target:"_top"},yi.createElement("rect",{width:208,height:150.375,x:677,y:687.007,fill:"#85BBF0",rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5}}),an||(an=yi.createElement("text",{x:738.5,y:708.145,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85},"\xabcomponent\xbb")),sn||(sn=yi.createElement("text",{x:726,y:725.827,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51},"Hydra")),ln||(ln=yi.createElement("text",{x:777,y:725.827,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6})),on||(on=yi.createElement("text",{x:783,y:725.827,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:53},"Smart")),rn||(rn=yi.createElement("text",{x:737,y:744.452,fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:88},"Contracts")),fn||(fn=yi.createElement("text",{x:757.5,y:759.364,fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:47},"[Plutus]")),xn||(xn=yi.createElement("text",{x:779,y:775.189,fontFamily:"sans-serif",fontSize:14,textLength:4})),hn||(hn=yi.createElement("text",{x:694,y:791.486,fontFamily:"sans-serif",fontSize:14,textLength:62},"On-chain")),cn||(cn=yi.createElement("text",{x:756,y:791.486,fontFamily:"sans-serif",fontSize:14,textLength:4})),mn||(mn=yi.createElement("text",{x:760,y:791.486,fontFamily:"sans-serif",fontSize:14,textLength:39},"smart")),yn||(yn=yi.createElement("text",{x:799,y:791.486,fontFamily:"sans-serif",fontSize:14,textLength:4})),dn||(dn=yi.createElement("text",{x:803,y:791.486,fontFamily:"sans-serif",fontSize:14,textLength:65},"contracts")),gn||(gn=yi.createElement("text",{x:687,y:807.783,fontFamily:"sans-serif",fontSize:14,textLength:72},"controlling")),Fn||(Fn=yi.createElement("text",{x:759,y:807.783,fontFamily:"sans-serif",fontSize:14,textLength:4})),Sn||(Sn=yi.createElement("text",{x:763,y:807.783,fontFamily:"sans-serif",fontSize:14,textLength:23},"the")),En||(En=yi.createElement("text",{x:786,y:807.783,fontFamily:"sans-serif",fontSize:14,textLength:4})),zn||(zn=yi.createElement("text",{x:790,y:807.783,fontFamily:"sans-serif",fontSize:14,textLength:68},"behaviour")),Ln||(Ln=yi.createElement("text",{x:858,y:807.783,fontFamily:"sans-serif",fontSize:14,textLength:4})),pn||(pn=yi.createElement("text",{x:862,y:807.783,fontFamily:"sans-serif",fontSize:14,textLength:13},"of")),un||(un=yi.createElement("text",{x:707,y:824.08,fontFamily:"sans-serif",fontSize:14,textLength:23},"the")),kn||(kn=yi.createElement("text",{x:730,y:824.08,fontFamily:"sans-serif",fontSize:14,textLength:4})),bn||(bn=yi.createElement("text",{x:734,y:824.08,fontFamily:"sans-serif",fontSize:14,textLength:57},"protocol")),Wn||(Wn=yi.createElement("text",{x:791,y:824.08,fontFamily:"sans-serif",fontSize:14,textLength:4})),wn||(wn=yi.createElement("text",{x:795,y:824.08,fontFamily:"sans-serif",fontSize:14,textLength:60},"on-chain"))),yi.createElement("path",{fill:"none",d:"M525.58 342.487H649.4",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m517.74 342.487 8 3v-6zM657.17 342.487l-8-3v6z",style:{stroke:"#666",strokeWidth:1}}),vn||(vn=yi.createElement("text",{x:535,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:42},"Hydra")),jn||(jn=yi.createElement("text",{x:577,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4})),Hn||(Hn=yi.createElement("text",{x:581,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:59},"Protocol")),Tn||(Tn=yi.createElement("text",{x:551.5,y:336.594,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:72},"Messages")),yi.createElement("path",{fill:"none",d:"M886.78 342.487h114.26",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m878.79 342.487 8 3v-6zM1008.77 342.487l-8-3v6z",style:{stroke:"#666",strokeWidth:1}}),Cn||(Cn=yi.createElement("text",{x:897.75,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:78},"ClientInput")),Mn||(Mn=yi.createElement("text",{x:975.75,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4})),An||(An=yi.createElement("text",{x:979.75,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:10},"&")),Pn||(Pn=yi.createElement("text",{x:895.75,y:336.594,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:96},"ServerOutput")),yi.createElement("path",{fill:"none",d:"M771.89 402.347c1.48 22.36 3.17 47.99 4.7 71.03",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m771.31 394.617-2.465 8.18 5.987-.396zM777.16 481.067l2.465-8.18-5.987.396z",style:{stroke:"#666",strokeWidth:1}}),Nn||(Nn=yi.createElement("text",{x:775,y:435.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:87},"Observation")),Bn||(Bn=yi.createElement("text",{x:862,y:435.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4})),Dn||(Dn=yi.createElement("text",{x:866,y:435.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:10},"&")),_n||(_n=yi.createElement("text",{x:788,y:449.334,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:75},"OnChainTx")),yi.createElement("path",{fill:"none",d:"M845.92 393.667c13.35 9.41 26.85 19.48 39.08 29.56 25.52 21.04 51.85 46.69 73.15 68.59",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m963.31 497.187-3.397-7.84-4.317 4.167z",style:{stroke:"#666",strokeWidth:1}}),In||(In=yi.createElement("text",{x:916,y:442.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:39},"Apply")),Rn||(Rn=yi.createElement("text",{x:955,y:442.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4})),On||(On=yi.createElement("text",{x:959,y:442.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:15},"Tx")),yi.createElement("path",{fill:"none",d:"M530.68 541.117h151.87",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m522.77 541.117 8 3v-6z",style:{stroke:"#666",strokeWidth:1}}),qn||(qn=yi.createElement("text",{x:539.75,y:535.255,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:31},"Sign")),Jn||(Jn=yi.createElement("text",{x:570.75,y:535.255,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4})),Un||(Un=yi.createElement("text",{x:574.75,y:535.255,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:90},"transactions")),yi.createElement("path",{fill:"none",d:"M781 600.257v77.7",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m781 685.647 3-8h-6z",style:{stroke:"#666",strokeWidth:1}}),Xn||(Xn=yi.createElement("text",{x:782,y:649.145,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:27},"Use")),yi.createElement("path",{fill:"none",d:"M708.45 606.347c-9.59 8.6-19.28 17.32-28.45 25.66-33.17 30.17-70.35 64.77-97.91 90.57",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m714.08 601.427-7.966 3.088 3.994 4.477zM576.65 727.607l7.89-3.279-4.101-4.38z",style:{stroke:"#666",strokeWidth:1}}),$n||($n=yi.createElement("text",{x:726.5,y:633.007,fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0},".")),Gn||(Gn=yi.createElement("text",{x:681,y:654.145,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:30},"[N2C")),Kn||(Kn=yi.createElement("text",{x:711,y:654.145,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4})),Qn||(Qn=yi.createElement("text",{x:715,y:654.145,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57},"protocol]")),yi.createElement("path",{fill:"none",d:"M228.56 579.157c69.29 40.37 179.53 104.6 248.84 144.98",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m221.89 574.687 5.402 6.62 3.02-5.185zM483.81 728.457l-5.396-6.625-3.025 5.182z",style:{stroke:"#666",strokeWidth:1}}),Vn||(Vn=yi.createElement("text",{x:400,y:633.007,fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0},".")),Yn||(Yn=yi.createElement("text",{x:354,y:654.145,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:31},"[N2N")),Zn||(Zn=yi.createElement("text",{x:385,y:654.145,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4})),ei||(ei=yi.createElement("text",{x:389,y:654.145,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57},"protocol]")),yi.createElement("path",{fill:"none",d:"M112.74 384.417c11.31 33.72 27.28 81.28 38.58 114.94",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m109.9 376.957-.287 8.539 5.685-1.917zM154.09 506.607l.297-8.539-5.688 1.91z",style:{stroke:"#666",strokeWidth:1}}),ti||(ti=yi.createElement("text",{x:180.5,y:426.227,fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0},".")),ni||(ni=yi.createElement("text",{x:135,y:447.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:30},"[N2C")),ii||(ii=yi.createElement("text",{x:165,y:447.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4})),ai||(ai=yi.createElement("text",{x:169,y:447.365,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57},"protocol]")),yi.createElement("path",{fill:"none",d:"M200.22 342.487h115.99",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m192.27 342.487 8 3v-6zM324.07 342.487l-8-3v6z",style:{stroke:"#666",strokeWidth:1}}),si||(si=yi.createElement("text",{x:258.25,y:301.487,fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0},".")),li||(li=yi.createElement("text",{x:209.25,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:42},"[Hydra")),oi||(oi=yi.createElement("text",{x:251.25,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4})),ri||(ri=yi.createElement("text",{x:255.25,y:322.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:52},"Network")),fi||(fi=yi.createElement("text",{x:229.75,y:336.594,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57},"protocol]")),yi.createElement("path",{fill:"none",d:"M1229.1 342.487h130.6",style:{stroke:"#666",strokeWidth:1}}),yi.createElement("path",{fill:"#666",d:"m1221.12 342.487 8 3v-6zM1367.29 342.487l-8-3v6z",style:{stroke:"#666",strokeWidth:1}}),xi||(xi=yi.createElement("text",{x:1294.25,y:315.487,fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0},".")),hi||(hi=yi.createElement("text",{x:1238.25,y:336.625,fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:112},"[JSON/Websocket]")))},Fi={},Si="Architecture",Ei={},zi=[{value:"Network",id:"network",level:3},{value:"Chain interaction",id:"chain-interaction",level:3},{value:"Chain",id:"chain",level:4},{value:"Wallet",id:"wallet",level:4},{value:"Head logic",id:"head-logic",level:3},{value:"Hydra smart contracts",id:"hydra-smart-contracts",level:3},{value:"API",id:"api",level:3},{value:"Persistence",id:"persistence",level:3},{value:"Logging",id:"logging",level:3},{value:"Monitoring",id:"monitoring",level:3}];function Li(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,mi.R)(),...e.components};return(0,ci.jsxs)(ci.Fragment,{children:[(0,ci.jsx)(t.header,{children:(0,ci.jsx)(t.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,ci.jsxs)(t.p,{children:["This document describes the architecture of the current implementation\nof a ",(0,ci.jsx)(t.code,{children:"hydra-node"}),". The following diagram represents the main\ncomponents of a Hydra node using the ",(0,ci.jsx)(t.a,{href:"https://c4model.com/#ComponentDiagram",children:"C4 Component\nDiagram"})," notation."]}),"\n","\n",(0,ci.jsx)(gi,{className:"architecture"}),"\n",(0,ci.jsxs)(t.admonition,{type:"info",children:[(0,ci.jsxs)(t.p,{children:["This diagram is manually produced using the ",(0,ci.jsx)(t.a,{href:"https://plantuml.com",children:"PlantUML"})," graphing tool with ",(0,ci.jsx)(t.a,{href:"https://github.com/plantuml-stdlib/C4-PlantUML",children:"C4 extensions"}),"."]}),(0,ci.jsx)(t.pre,{children:(0,ci.jsx)(t.code,{children:"$ plantuml -Tsvg architecture-c4.puml\n"})})]}),"\n",(0,ci.jsx)(t.h3,{id:"network",children:"Network"}),"\n",(0,ci.jsxs)(t.p,{children:["The ",(0,ci.jsx)(t.em,{children:"network"})," component is responsible for communication between Hydra nodes related to the off-chain part of the Hydra protocol. See ",(0,ci.jsx)(t.a,{href:"./architecture/networking",children:"Networking"})," for details."]}),"\n",(0,ci.jsx)(t.h3,{id:"chain-interaction",children:"Chain interaction"}),"\n",(0,ci.jsx)(t.h4,{id:"chain",children:"Chain"}),"\n",(0,ci.jsxs)(t.p,{children:["The ",(0,ci.jsx)(t.em,{children:"chain"})," component interfaces the Hydra node with the Cardano (layer 1) chain. The current implementation, called ",(0,ci.jsx)(t.code,{children:"Direct"}),", uses the ",(0,ci.jsx)(t.code,{children:"node-to-client"})," protocol to both 'follow the chain' and observe new blocks and transactions that can change the state of the head. It also submits transactions in response to client requests or as needed to advance the protocol's state. This component connects to a locally spun ",(0,ci.jsx)(t.code,{children:"cardano-node"})," using the ",(0,ci.jsx)(t.em,{children:"local socket"})," and contains the ",(0,ci.jsx)(t.em,{children:"off-chain"})," logic, based on ",(0,ci.jsx)(t.code,{children:"cardano-api"}),", which knows how to observe and build transactions relevant to the Hydra protocol. For more details, see ",(0,ci.jsx)(t.a,{href:"/adr/10",children:"ADR-10"}),"."]}),"\n",(0,ci.jsx)(t.h4,{id:"wallet",children:"Wallet"}),"\n",(0,ci.jsxs)(t.p,{children:["The Hydra node maintains an internal wallet using the Cardano signing key provided to the ",(0,ci.jsx)(t.code,{children:"hydra-node"}),". This wallet is used to handle the payment of transaction fees and to sign transactions."]}),"\n",(0,ci.jsx)(t.h3,{id:"head-logic",children:"Head logic"}),"\n",(0,ci.jsxs)(t.p,{children:["This component is at the core of the Hydra node, implementing the protocol's ",(0,ci.jsx)(t.em,{children:"state machine"}),". It is structured around the concepts of ",(0,ci.jsx)(t.code,{children:"Input"}),"s and ",(0,ci.jsx)(t.code,{children:"Effect"}),"s. ",(0,ci.jsx)(t.code,{children:"Input"}),"s from the outside world are interpreted against the current state, potentially resulting in internal ",(0,ci.jsx)(t.code,{children:"Event"}),"s, which are aggregated into an updated state. This can then produce ",(0,ci.jsx)(t.code,{children:"Effect"}),"s, leading to 'side effects' on the outside world. The state available to the ",(0,ci.jsx)(t.em,{children:"head logic"})," consists of the head's content (eg, current ledger, pending transactions) ",(0,ci.jsx)(t.em,{children:"and"})," the data from layer 1 needed to observe and trigger on-chain transitions."]}),"\n",(0,ci.jsx)(t.h3,{id:"hydra-smart-contracts",children:"Hydra smart contracts"}),"\n",(0,ci.jsxs)(t.p,{children:["This component represents all the Hydra smart contracts needed for the Hydra Head protocol operation. Currently, the contracts are written using ",(0,ci.jsx)(t.code,{children:"Plutus-Tx"}),". The scripts are optimized using a custom ",(0,ci.jsx)(t.code,{children:"ScriptContext"})," and specific error codes."]}),"\n",(0,ci.jsx)(t.h3,{id:"api",children:"API"}),"\n",(0,ci.jsxs)(t.p,{children:["The ",(0,ci.jsx)(t.code,{children:"hydra-node"})," component exposes an ",(0,ci.jsx)(t.a,{href:"https://hydra.family/head-protocol/unstable/api-reference",children:"asynchronous API"})," through a WebSocket server. This API is available to the ",(0,ci.jsx)(t.em,{children:"Hydra client"})," for sending commands and observing changes in the state of the Hydra head. Upon startup, the API server loads all historical messages from the persistence layer and serves them to clients interested in observing them."]}),"\n",(0,ci.jsx)(t.h3,{id:"persistence",children:"Persistence"}),"\n",(0,ci.jsxs)(t.p,{children:["All API server outputs and the ",(0,ci.jsx)(t.code,{children:"hydra-node"})," state are preserved on disk. The persistence layer is responsible for loading historical messages and the Hydra state from disk, as well as storing them. Currently, there hasn't been a need to increase the complexity of this layer or use a database."]}),"\n",(0,ci.jsx)(t.h3,{id:"logging",children:"Logging"}),"\n",(0,ci.jsxs)(t.p,{children:["The Hydra node logs all internal side effects as JSON-formatted messages to its ",(0,ci.jsx)(t.em,{children:"standard output"})," stream. The log format adheres to a documented ",(0,ci.jsx)(t.a,{href:"https://raw.githubusercontent.com/input-output-hk/hydra/master/hydra-node/json-schemas/logs.yaml",children:"JSON schema"}),", following the principles outlined in ",(0,ci.jsx)(t.a,{href:"/adr/9",children:"ADR-9"}),"."]}),"\n",(0,ci.jsx)(t.h3,{id:"monitoring",children:"Monitoring"}),"\n",(0,ci.jsxs)(t.p,{children:["The Hydra node ",(0,ci.jsx)(t.a,{href:"https://hydra.family/head-protocol/docs/getting-started/quickstart#hydra-node-options",children:"optionally"})," exposes ",(0,ci.jsx)(t.a,{href:"https://prometheus.io/",children:"Prometheus"}),"-compliant ",(0,ci.jsx)(t.em,{children:"metrics"})," through an HTTP server, on the standard ",(0,ci.jsx)(t.code,{children:"/metrics"})," endpoint."]})]})}function pi(e={}){const{wrapper:t}={...(0,mi.R)(),...e.components};return t?(0,ci.jsx)(t,{...e,children:(0,ci.jsx)(Li,{...e})}):Li(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>o});var i=n(96540);const a={},s=i.createContext(a);function l(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);